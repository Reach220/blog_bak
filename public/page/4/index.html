<!DOCTYPE html><html lang="zh-CN"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1"><meta name="format-detection" content="telephone=no"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-status-bar-style" content="black"><link rel="icon" href="/images/icons/favicon-16x16.png?v=2.6.2" type="image/png" sizes="16x16"><link rel="icon" href="/images/icons/favicon-32x32.png?v=2.6.2" type="image/png" sizes="32x32"><meta property="og:type" content="website">
<meta property="og:title" content="Forever King">
<meta property="og:url" content="https://king23.top/page/4/index.html">
<meta property="og:site_name" content="Forever King">
<meta property="og:locale" content="zh_CN">
<meta property="article:author" content="不闻钟">
<meta name="twitter:card" content="summary"><title>Forever King</title><link ref="canonical" href="https://king23.top/page/4/index.html"><link rel="dns-prefetch" href="https://cdn.jsdelivr.net"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.12.1/css/all.min.css" type="text/css"><link rel="stylesheet" href="/css/index.css?v=2.6.2"><script>var Stun = window.Stun || {};
var CONFIG = {
  root: '/',
  algolia: undefined,
  assistSearch: undefined,
  fontIcon: {"prompt":{"success":"fas fa-check-circle","info":"fas fa-arrow-circle-right","warning":"fas fa-exclamation-circle","error":"fas fa-times-circle"},"copyBtn":"fas fa-copy"},
  sidebar: {"offsetTop":"20px","tocMaxDepth":6},
  header: {"enable":true,"showOnPost":true,"scrollDownIcon":false},
  postWidget: {"endText":true},
  nightMode: {"enable":true},
  back2top: {"enable":true},
  codeblock: {"style":"default","highlight":"light","wordWrap":false},
  reward: false,
  fancybox: false,
  zoomImage: {"gapAside":"20px"},
  galleryWaterfall: undefined,
  lazyload: false,
  pjax: undefined,
  externalLink: {"icon":{"enable":true,"name":"fas fa-external-link-alt"}},
  shortcuts: undefined,
  prompt: {"copyButton":"复制","copySuccess":"复制成功","copyError":"复制失败"},
  sourcePath: {"js":"js","css":"css","images":"images"},
};

window.CONFIG = CONFIG;</script><meta name="generator" content="Hexo 5.4.0"></head><body><div class="container" id="container"><header class="header" id="header"><div class="header-inner"><nav class="header-nav header-nav--fixed"><div class="header-nav-inner"><div class="header-nav-menubtn"><i class="fas fa-bars"></i></div><div class="header-nav-menu"><div class="header-nav-menu-item"><a class="header-nav-menu-item__link" href="/"><span class="header-nav-menu-item__icon"><i class="fas fa-home"></i></span><span class="header-nav-menu-item__text">首页</span></a></div><div class="header-nav-menu-item"><a class="header-nav-menu-item__link" href="/archives/"><span class="header-nav-menu-item__icon"><i class="fas fa-folder-open"></i></span><span class="header-nav-menu-item__text">归档</span></a></div><div class="header-nav-menu-item"><a class="header-nav-menu-item__link" href="/categories/"><span class="header-nav-menu-item__icon"><i class="fas fa-layer-group"></i></span><span class="header-nav-menu-item__text">分类</span></a></div><div class="header-nav-menu-item"><a class="header-nav-menu-item__link" href="/tags/"><span class="header-nav-menu-item__icon"><i class="fas fa-tags"></i></span><span class="header-nav-menu-item__text">标签</span></a></div></div><div class="header-nav-search"><span class="header-nav-search__icon"><i class="fas fa-search"></i></span><span class="header-nav-search__text">搜索</span></div><div class="header-nav-mode"><div class="mode"><div class="mode-track"><span class="mode-track-moon"></span><span class="mode-track-sun"></span></div><div class="mode-thumb"></div></div></div></div></nav><div class="header-banner"><div class="header-banner-info"><div class="header-banner-info__title">Forever King</div><div class="header-banner-info__subtitle">Live a good life meet slowly.</div></div></div></div></header><main class="main" id="main"><div class="main-inner"><div class="content-wrap" id="content-wrap"><div class="content content-home" id="content"><section class="postlist"><article class="postlist-item post"><header class="post-header"><h1 class="post-title"><a class="post-title__link" href="/2021/05/15/%E5%BE%AA%E7%8E%AF%E9%93%BE%E8%A1%A8%E4%B8%8E%E5%8F%8C%E5%90%91%E9%93%BE%E8%A1%A8/">循环链表与双向链表</a></h1><div class="post-meta"><span class="post-meta-item post-meta-item--createtime"><span class="post-meta-item__icon"><i class="far fa-calendar-plus"></i></span><span class="post-meta-item__info">发表于</span><span class="post-meta-item__value">2021-05-15</span></span><span class="post-meta-item post-meta-item--updatetime"><span class="post-meta-item__icon"><i class="far fa-calendar-check"></i></span><span class="post-meta-item__info">更新于</span><span class="post-meta-item__value">2021-11-07</span></span></div></header><div class="post-body"><div class="post-excerpt">
        <h2 id="循环链表"   >
          <a href="#循环链表" class="heading-link"><i class="fas fa-link"></i></a><a href="#循环链表" class="headerlink" title="循环链表"></a>循环链表</h2>
      <p>循环链表是一种头尾相接的链表，表中的最后一个结点的指针域指向头结点，整个链表形成一个环。</p>
<p>示意图：<br><img src="https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/78a516072daa457f97c21306b0c59dc1~tplv-k3u1fbpfcp-watermark.image" alt="image.png"></p>
<p>这样的有点是可以从表中任一结点出发均可找到其他结点。而循环链表由于没有NULL指针，所以涉及遍历操作时，其终止条件就不再像<strong>非循环链表</strong>那样判断p或p-&gt;next是否为空，而是判断他们是否是头指针。</p>
<p>就像这样：<br><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/0b2bbd8e2f5b439fa308c6a9320cf827~tplv-k3u1fbpfcp-watermark.image" alt="image.png"></p>
<p>为了操作方便，一般需要一个尾指针，指向最后一个结点。（表的操作通常是在首位位置上进行） </p>
<p>来看一下有尾指针的例子，两个循环链表的合并：<br><img src="https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/330120042fc64ae4a733d626508fd5b7~tplv-k3u1fbpfcp-watermark.image" alt="image.png"><br>代码：</p>
<figure class="highlight js"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//合并链表</span></span><br><span class="line"><span class="comment">//几乎与单链表相同</span></span><br><span class="line">LinkList <span class="function"><span class="title">ConnectList</span>(<span class="params">Linklist Ta,LinkList Tb</span>)</span>&#123;</span><br><span class="line">    LinkList p = Ta-&gt;next;<span class="comment">//p存表（Ta）头结点</span></span><br><span class="line">    Ta-&gt;next = Tb-&gt;next-&gt;next;<span class="comment">//Tb的表头连接Ta表尾</span></span><br><span class="line">    <span class="comment">//delete Tb-&gt;next;</span></span><br><span class="line">    free(Tb-&gt;next);<span class="comment">//释放Tb表的头结点</span></span><br><span class="line">    Tb-&gt;next = p;<span class="comment">//修改指针，Tb的表尾结点指向p(Ta的首元)</span></span><br><span class="line">    <span class="keyword">return</span> Tb;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></div></figure>

        <h2 id="双向链表"   >
          <a href="#双向链表" class="heading-link"><i class="fas fa-link"></i></a><a href="#双向链表" class="headerlink" title="双向链表"></a>双向链表</h2>
      <p>单链表中的结点只包含指向后继结点的指针，从而无法快速访问前驱结点（他就在你前面你却要绕一个圈才能找到他,甚至重新从头结点出发寻找）。对于较长的链表或者频繁进行删除插入等操作的链表来说，处理的速度很慢。为了比卖你这个问题，我们重新定义来年表，使链表中的每个结点有两个指针域，一个指向前驱(prior)，一个指向后继(next)。这种链表被称为双向链表。</p>
<p><img src="https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/c805b7bef8fb4945abd28685e2f406d6~tplv-k3u1fbpfcp-watermark.image" alt="image.png"></p>
<p>同样的，你也可以设置为双向循环链表：</p>
<ul>
<li>让头结点的前驱指针指向链表的最后一个结点</li>
<li>让最后一个结点的后继指针指向头指针</li>
</ul>
<p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/337c061c157747a3b9f5373735f4d4fb~tplv-k3u1fbpfcp-watermark.image" alt="image.png"></p>

        <h4 id="双向链表的实现"   >
          <a href="#双向链表的实现" class="heading-link"><i class="fas fa-link"></i></a><a href="#双向链表的实现" class="headerlink" title="双向链表的实现"></a>双向链表的实现</h4>
      <p>双向的结构：</p>
<figure class="highlight js"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">typedef struct DuNode &#123;</span><br><span class="line">    Elemtype data;<span class="comment">//</span></span><br><span class="line">    struct DuNode *prior,*next;<span class="comment">//两个指针域</span></span><br><span class="line">&#125;DuNode，*DuLinkList;</span><br></pre></td></tr></table></div></figure>
<p>关于双向链表的成员函数，比如：ListLength,GetElem等，因仅仅涉及一个方向的指针，故他们算法与单链表相同。但在插入删除时，需要修改两个方向的指针，两者操作的时间复杂度均为O(n).</p>
<p><strong>插入</strong>：</p>
<figure class="highlight js"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//在带头结点的双向循环链表L中的第i个位置之前插入元素e</span></span><br><span class="line"><span class="keyword">void</span> <span class="function"><span class="title">DuListInsert</span>(<span class="params">DuLinkList &amp;L,int i,ElemType e</span>)</span> &#123;</span><br><span class="line">    DuLinkList p;<span class="comment">//第i个结点</span></span><br><span class="line">    <span class="comment">//if(!(p = DuGetElem(L,i))) return false;//可以直接使用查找函数查找第i个元素的位置，也可以这样</span></span><br><span class="line">    p = L;<span class="comment">//头结点</span></span><br><span class="line">    int cnt = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">while</span>(p &amp;&amp; cnt &lt; i)&#123;</span><br><span class="line">        p = p-&gt;next;</span><br><span class="line">        cnt++;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(!p || cnt &gt; i)</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    DuLinkList s = (DuLinkList)malloc(DuNode);</span><br><span class="line">    <span class="comment">//DuLinkList s = new DuNode</span></span><br><span class="line">    s-&gt;data = e;<span class="comment">//输入数据域</span></span><br><span class="line">    s-&gt;prior= p-&gt;prior;<span class="comment">//将新结点的前驱指向i-1位置结点</span></span><br><span class="line">    p-&gt;prior-&gt;next = s;<span class="comment">//将i-1位置上的结点后继指针指向s</span></span><br><span class="line">    s-&gt;next = p;<span class="comment">//将新结点的后继指针指向第i个结点</span></span><br><span class="line">    p-&gt;prior = s;<span class="comment">//将第i个结点的前驱结点指向新结点</span></span><br><span class="line">    <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    </span><br><span class="line">&#125;</span><br></pre></td></tr></table></div></figure>
<p>其他位置的插入与此大同小异<br><strong>删除</strong></p>
<figure class="highlight js"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">void</span> <span class="function"><span class="title">DuLinkList</span>(<span class="params">DuLinkList &amp;L, int i,ElemType &amp;e</span>)</span> &#123;</span><br><span class="line">      DuLinkList p;<span class="comment">//第i个结点</span></span><br><span class="line">     <span class="comment">//if(!(p = DuGetElem(L,i))) return false;//同样的可以使用查找函数找到第i个位置</span></span><br><span class="line">    p = L;<span class="comment">//头结点</span></span><br><span class="line">    int cnt = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">while</span>(p &amp;&amp; cnt &lt; i)&#123;</span><br><span class="line">        p = p-&gt;next;</span><br><span class="line">        cnt++;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(!p || cnt &gt; i)</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    </span><br><span class="line">   e = p-&gt;data;</span><br><span class="line">   p-&gt;prior-&gt;next = p-&gt;next;<span class="comment">//将第i-1位置的后继指针指向第i+1个结点</span></span><br><span class="line">   p-&gt;next-&gt;prior = p-&gt;next;<span class="comment">//将第i+1个位置的前驱结点指向第i-1个结点</span></span><br><span class="line">   free(p);</span><br><span class="line">   <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></div></figure>

        <h2 id="比较"   >
          <a href="#比较" class="heading-link"><i class="fas fa-link"></i></a><a href="#比较" class="headerlink" title="比较"></a>比较</h2>
      <p><img src="https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/59be1702bca54767869ee3e4173cc1df~tplv-k3u1fbpfcp-watermark.image" alt="image.png"></p>
<p><img src="https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/61e8a361263a43a0894e25099748ee8a~tplv-k3u1fbpfcp-watermark.image" alt="image.png"></p>
<p>具体的选用看具体需求。当然表的使用还需多做题啊。</p>
</div></div></article><article class="postlist-item post"><header class="post-header"><h1 class="post-title"><a class="post-title__link" href="/2021/05/14/PAT%E4%B9%99%E7%BA%A71032/">PAT乙级1032</a></h1><div class="post-meta"><span class="post-meta-item post-meta-item--createtime"><span class="post-meta-item__icon"><i class="far fa-calendar-plus"></i></span><span class="post-meta-item__info">发表于</span><span class="post-meta-item__value">2021-05-14</span></span><span class="post-meta-item post-meta-item--updatetime"><span class="post-meta-item__icon"><i class="far fa-calendar-check"></i></span><span class="post-meta-item__info">更新于</span><span class="post-meta-item__value">2021-05-14</span></span></div></header><div class="post-body"><div class="post-excerpt">
        <h3 id="题目"   >
          <a href="#题目" class="heading-link"><i class="fas fa-link"></i></a><a href="#题目" class="headerlink" title="题目"></a>题目</h3>
      <p>题目请忽略，为了用事实说明挖掘机技术到底哪家强，PAT 组织了一场挖掘机技能大赛。现请你根据比赛结果统计出技术最强的那个学校。</p>

        <h3 id="输入格式："   >
          <a href="#输入格式：" class="heading-link"><i class="fas fa-link"></i></a><a href="#输入格式：" class="headerlink" title="输入格式："></a>输入格式：</h3>
      <p>输入在第 1 行给出不超过 10^5的正整数 N，即参赛人数。随后 N 行，每行给出一位参赛者的信息和成绩，包括其所代表的学校的编号（从 1 开始连续编号）、及其比赛成绩（百分制），中间以空格分隔。</p>

        <h3 id="输入格式"   >
          <a href="#输入格式" class="heading-link"><i class="fas fa-link"></i></a><a href="#输入格式" class="headerlink" title="输入格式"></a>输入格式</h3>
      <p>在一行中给出总得分最高的学校的编号、及其总分，中间以空格分隔。题目保证答案唯一，没有并列。</p>

        <h3 id="思路"   >
          <a href="#思路" class="heading-link"><i class="fas fa-link"></i></a><a href="#思路" class="headerlink" title="思路"></a>思路</h3>
      <p>用一个数组去存储各个学校的总分数，再遍历求分数最大值的学校，并输出其编号与分数。</p>
<figure class="highlight js"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">``</span><span class="string">`</span></span><br><span class="line"><span class="string">`</span><span class="string">``</span>js</span><br><span class="line"><span class="comment">//foreverking</span></span><br><span class="line">#include &lt;vector&gt;</span><br><span class="line">#include &lt;cstdio&gt;</span><br><span class="line">#include &lt;queue&gt;</span><br><span class="line">#include &lt;algorithm&gt;</span><br><span class="line">#include &lt;cstring&gt;</span><br><span class="line">#include &lt;iostream&gt;</span><br><span class="line">#include &lt;cmath&gt;</span><br><span class="line">using namespace std;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> int  N = <span class="number">1e5</span> + <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">int n;</span><br><span class="line">int sum[N];</span><br><span class="line"></span><br><span class="line">int <span class="function"><span class="title">main</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    cin &gt;&gt; n;</span><br><span class="line">    <span class="keyword">for</span>(int i = <span class="number">0</span>; i &lt; n; i++) &#123;</span><br><span class="line">        int school,score;</span><br><span class="line">        cin &gt;&gt; school &gt;&gt; score;</span><br><span class="line">        sum[school] += score;<span class="comment">//将分数加入</span></span><br><span class="line">    &#125;</span><br><span class="line">    int maxx = <span class="number">1</span>;<span class="comment">//学校从1开始编号</span></span><br><span class="line">    <span class="keyword">for</span>(int i = <span class="number">1</span>; i &lt; n; i++)&#123;</span><br><span class="line">        <span class="keyword">if</span>(sum[maxx] &lt; sum[i])&#123;</span><br><span class="line">            maxx = i;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    cout &lt;&lt; maxx &lt;&lt; <span class="string">&quot; &quot;</span> &lt;&lt; sum[maxx] &lt;&lt; endl;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></div></figure>
<p>最后一个点过不了，超时了，我想了想选择用vector存各学校的分数。</p>
<figure class="highlight js"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//foreverking</span></span><br><span class="line">#include &lt;vector&gt;</span><br><span class="line">#include &lt;cstdio&gt;</span><br><span class="line">#include &lt;queue&gt;</span><br><span class="line">#include &lt;algorithm&gt;</span><br><span class="line">#include &lt;cstring&gt;</span><br><span class="line">#include &lt;iostream&gt;</span><br><span class="line">#include &lt;cmath&gt;</span><br><span class="line">using namespace std;</span><br><span class="line"></span><br><span class="line">int n;</span><br><span class="line"></span><br><span class="line">int <span class="function"><span class="title">main</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    cin &gt;&gt; n;</span><br><span class="line">    vector&lt;int&gt; v(n + <span class="number">1</span>);</span><br><span class="line">    <span class="keyword">for</span>(int i = <span class="number">0</span>; i &lt; n; i++) &#123;</span><br><span class="line">        int school,score;</span><br><span class="line">        cin &gt;&gt; school &gt;&gt; score;</span><br><span class="line">        v[school] += score;<span class="comment">//将分数加入</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    int maxx = <span class="number">1</span>;<span class="comment">//学校从1开始编号</span></span><br><span class="line">    <span class="keyword">for</span>(int i = <span class="number">1</span>; i &lt; n; i++)&#123;</span><br><span class="line">        <span class="keyword">if</span>(v[maxx] &lt; v[i])&#123;</span><br><span class="line">            maxx = i;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    cout &lt;&lt; maxx &lt;&lt; <span class="string">&quot; &quot;</span> &lt;&lt; v[maxx] &lt;&lt; endl;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></div></figure>
<p>成功过了，但是回过头看第一个代码，发觉是边界问题，只需<code>const int  N = 1e5 + 1;</code>就可以通过。</p>
<p><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://pintia.cn/problem-sets/994805260223102976/problems/994805289432236032" >题目链接</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span></p>
</div></div></article><article class="postlist-item post"><header class="post-header"><h1 class="post-title"><a class="post-title__link" href="/2021/05/14/PAT%E4%B9%99%E7%BA%A71031/">PAT乙级1031</a></h1><div class="post-meta"><span class="post-meta-item post-meta-item--createtime"><span class="post-meta-item__icon"><i class="far fa-calendar-plus"></i></span><span class="post-meta-item__info">发表于</span><span class="post-meta-item__value">2021-05-14</span></span><span class="post-meta-item post-meta-item--updatetime"><span class="post-meta-item__icon"><i class="far fa-calendar-check"></i></span><span class="post-meta-item__info">更新于</span><span class="post-meta-item__value">2021-05-14</span></span></div></header><div class="post-body"><div class="post-excerpt">
        <h3 id="题目"   >
          <a href="#题目" class="heading-link"><i class="fas fa-link"></i></a><a href="#题目" class="headerlink" title="题目"></a>题目</h3>
      <p>一个合法的身份证号码由17位地区、日期编号和顺序编号加1位校验码组成。校验码的计算规则如下：</p>
<p>首先对前17位数字加权求和，权重分配为：{7，9，10，5，8，4，2，1，6，3，7，9，10，5，8，4，2}；然后将计算的和对11取模得到值Z；最后按照以下关系对应Z值与校验码M的值：</p>
<blockquote>
<p>Z：0 1 2 3 4 5 6 7 8 9 10<br><br>M：1 0 X 9 8 7 6 5 4 3 2<br>现在给定一些身份证号码，请你验证校验码的有效性，并输出有问题的号码。</p>
</blockquote>

        <h3 id="输入格式"   >
          <a href="#输入格式" class="heading-link"><i class="fas fa-link"></i></a><a href="#输入格式" class="headerlink" title="输入格式"></a>输入格式</h3>
      <p>输入第一行给出正整数N（≤100）是输入的身份证号码的个数。随后N行，每行给出1个18位身份证号码。</p>

        <h3 id="输出格式"   >
          <a href="#输出格式" class="heading-link"><i class="fas fa-link"></i></a><a href="#输出格式" class="headerlink" title="输出格式"></a>输出格式</h3>
      <p>按照输入的顺序每行输出1个有问题的身份证号码。这里并不检验前17位是否合理，只检查前17位是否全为数字且最后1位校验码计算准确。如果所有号码都正常，则输出<code>All passed</code>。</p>

        <h3 id="思路"   >
          <a href="#思路" class="heading-link"><i class="fas fa-link"></i></a><a href="#思路" class="headerlink" title="思路"></a>思路</h3>
      <p>用一个数组，一个子覅数组分别存Z值（权重），M值（检验值）。而后用sring s存身份证号。写一个isPrime函数判断这个身份证是否合法。注意，<strong>只检查前17位是否全为数字且最后1位校验码计算准确</strong>。检验过程就是先判断身份证每一位是不是数字，而后甲醛求和，对最后一位进行验证： <code>s[17] == m[sum % 11]</code>.</p>

        <h3 id="代码"   >
          <a href="#代码" class="heading-link"><i class="fas fa-link"></i></a><a href="#代码" class="headerlink" title="代码"></a>代码</h3>
      <figure class="highlight js"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//foreverking</span></span><br><span class="line">#include &lt;vector&gt;</span><br><span class="line">#include &lt;cstdio&gt;</span><br><span class="line">#include &lt;queue&gt;</span><br><span class="line">#include &lt;algorithm&gt;</span><br><span class="line">#include &lt;cstring&gt;</span><br><span class="line">#include &lt;iostream&gt;</span><br><span class="line">#include &lt;cmath&gt;</span><br><span class="line">using namespace std;</span><br><span class="line"><span class="comment">//每行输出1个有问题的身份证号码,这里并不检验前17位是否合理，只检查前17位是否全为数字且最后1位校验码计算准确</span></span><br><span class="line"></span><br><span class="line">int n;</span><br><span class="line">string s;</span><br><span class="line">int a[<span class="number">17</span>] = &#123;<span class="number">7</span>,<span class="number">9</span>,<span class="number">10</span>,<span class="number">5</span>,<span class="number">8</span>,<span class="number">4</span>,<span class="number">2</span>,<span class="number">1</span>,<span class="number">6</span>,<span class="number">3</span>,<span class="number">7</span>,<span class="number">9</span>,<span class="number">10</span>,<span class="number">5</span>,<span class="number">8</span>,<span class="number">4</span>,<span class="number">2</span>&#125;;</span><br><span class="line">char m[<span class="number">11</span>] = &#123;<span class="string">&#x27;1&#x27;</span>,<span class="string">&#x27;0&#x27;</span>,<span class="string">&#x27;X&#x27;</span>,<span class="string">&#x27;9&#x27;</span>,<span class="string">&#x27;8&#x27;</span>,<span class="string">&#x27;7&#x27;</span>,<span class="string">&#x27;6&#x27;</span>,<span class="string">&#x27;5&#x27;</span>,<span class="string">&#x27;4&#x27;</span>,<span class="string">&#x27;3&#x27;</span>,<span class="string">&#x27;2&#x27;</span> &#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">//判断是否合法</span></span><br><span class="line">bool <span class="function"><span class="title">isPrime</span>(<span class="params">string s</span>)</span> &#123;</span><br><span class="line">    int sum = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(int i = <span class="number">0</span>; i &lt; <span class="number">17</span>; i++) &#123;</span><br><span class="line">        <span class="keyword">if</span>(s[i] &lt; <span class="string">&#x27;0&#x27;</span> || s[i] &gt; <span class="string">&#x27;9&#x27;</span>)</span><br><span class="line">           <span class="keyword">return</span>  <span class="literal">false</span>;<span class="comment">//不为数字，不合法。</span></span><br><span class="line">        </span><br><span class="line">    sum += (s[i] - <span class="string">&#x27;0&#x27;</span>) * a[i];<span class="comment">//加权求和</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> s[<span class="number">17</span>] == m[sum % <span class="number">11</span>];<span class="comment">//如果最后一位没问题就返回true，有问题就返回false</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">int <span class="function"><span class="title">main</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    cin &gt;&gt; n;</span><br><span class="line">    int cnt = n;</span><br><span class="line">    <span class="keyword">for</span>(int i = <span class="number">0</span>; i &lt; n; i++) &#123;</span><br><span class="line">        cin &gt;&gt; s;<span class="comment">//本次的身份证</span></span><br><span class="line">        <span class="keyword">if</span>(!isPrime(s)) &#123;</span><br><span class="line">            cout &lt;&lt; s &lt;&lt; endl;</span><br><span class="line">            cnt--;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(cnt == n)</span><br><span class="line">        cout &lt;&lt; <span class="string">&quot;All passed&quot;</span>;;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></div></figure>
<p><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://pintia.cn/problem-sets/994805260223102976/problems/994805290334011392" >题目链接</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span></p>
</div></div></article><article class="postlist-item post"><header class="post-header"><h1 class="post-title"><a class="post-title__link" href="/2021/05/12/PAT%E4%B9%99%E7%BA%A71030/">PAT乙级1030</a></h1><div class="post-meta"><span class="post-meta-item post-meta-item--createtime"><span class="post-meta-item__icon"><i class="far fa-calendar-plus"></i></span><span class="post-meta-item__info">发表于</span><span class="post-meta-item__value">2021-05-12</span></span><span class="post-meta-item post-meta-item--updatetime"><span class="post-meta-item__icon"><i class="far fa-calendar-check"></i></span><span class="post-meta-item__info">更新于</span><span class="post-meta-item__value">2021-05-12</span></span></div></header><div class="post-body"><div class="post-excerpt">
        <h3 id="题目"   >
          <a href="#题目" class="heading-link"><i class="fas fa-link"></i></a><a href="#题目" class="headerlink" title="题目"></a>题目</h3>
      <p>给定一个正整数数列，和正整数 p，设这个数列中的最大值是 M，最小值是 m，如果 M≤mp，则称这个数列是完美数列。<br>现在给定参数 p 和一些正整数，请你从中选择尽可能多的数构成一个完美数列。</p>

        <h3 id="输入格式："   >
          <a href="#输入格式：" class="heading-link"><i class="fas fa-link"></i></a><a href="#输入格式：" class="headerlink" title="输入格式："></a>输入格式：</h3>
      <p>输入第一行给出两个正整数 N 和 p，其中 10^5）是输入的正整数的个数，p（≤10<br>^9）是给定的参数。第二行给出 N 个正整数，每个数不超过 10^9 。</p>

        <h3 id="输出格式："   >
          <a href="#输出格式：" class="heading-link"><i class="fas fa-link"></i></a><a href="#输出格式：" class="headerlink" title="输出格式："></a>输出格式：</h3>
      <p>在一行中输出最多可以选择多少个数可以用它们组成一个完美数列。</p>
<p>样例就不放了。感兴趣自己去官网看看。</p>

        <h4 id="思路"   >
          <a href="#思路" class="heading-link"><i class="fas fa-link"></i></a><a href="#思路" class="headerlink" title="思路"></a>思路</h4>
      <p>这是我乙级目前做的最莫名其妙的题了。先开始用开一个10000的数组总是超时，转化为vector就过了，再回来改一下数组的又过了。总之很离谱。</p>
<p>先将数据全部存入数组或者vector容器中，差别不大。在用sort进行从小到大的排序。最后进行两个嵌套循环。注意第二个循环的条件起始值j为i+maxx(maxx是目前的最大完美数列个数)。毕竟你找的完美序列个数比maxx小就能没用，徒劳占据运行时间。循环内进行判定<code>(v[j] &lt;= v[i] * p</code>若不满足直接跳出循环，v[j]只会越来越大，不会满足这个条件的，优化成功！<br>[错误代码被注释了]</p>
<figure class="highlight js"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//foreverking</span></span><br><span class="line"><span class="comment">// 给定一个正整数数列，和正整数 p，设这个数列中的最大值是 M，最小值是 m，如果 M≤mp，则称这个数列是完美数列。</span></span><br><span class="line">#include &lt;vector&gt;</span><br><span class="line">#include &lt;cstdio&gt;</span><br><span class="line">#include &lt;queue&gt;</span><br><span class="line">#include &lt;algorithm&gt;</span><br><span class="line">#include &lt;cstring&gt;</span><br><span class="line">#include &lt;iostream&gt;</span><br><span class="line">#include &lt;cmath&gt;</span><br><span class="line">using namespace std;</span><br><span class="line"></span><br><span class="line">int n;</span><br><span class="line">long long p;</span><br><span class="line">int res,maxx;</span><br><span class="line"></span><br><span class="line"><span class="comment">// int main()&#123;</span></span><br><span class="line"><span class="comment">//     scanf(&quot;%d%lld&quot;, &amp;n, &amp;p);</span></span><br><span class="line"><span class="comment">//     //cin &gt;&gt; n &gt;&gt; p;</span></span><br><span class="line"><span class="comment">//     for(int i = 0; i &lt; n; i++)&#123;</span></span><br><span class="line"><span class="comment">//         //代码</span></span><br><span class="line"><span class="comment">//         cin &gt;&gt; s[i];</span></span><br><span class="line"><span class="comment">//         &#125;</span></span><br><span class="line"><span class="comment">//     //先排序</span></span><br><span class="line"><span class="comment">//     sort(s,s + n);//从小到大</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//     for(int i = 0; i &lt; n; i++)&#123;</span></span><br><span class="line"><span class="comment">//         //int minn = s[i];//将此数当作最小数</span></span><br><span class="line">        </span><br><span class="line"><span class="comment">//         for(int j = n - 1; j &gt;= i + maxx; j--)&#123;</span></span><br><span class="line"><span class="comment">//             if(s[j] &lt;= s[i] * p)</span></span><br><span class="line"><span class="comment">//                 res = j - i + 1;//ji之间的元素</span></span><br><span class="line"><span class="comment">//                 if(res &gt; maxx)</span></span><br><span class="line"><span class="comment">//                     maxx = res;</span></span><br><span class="line"><span class="comment">//         &#125;</span></span><br><span class="line"><span class="comment">//     &#125;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//     printf(&quot;%d\n&quot;,maxx);</span></span><br><span class="line"><span class="comment">//     return 0;</span></span><br><span class="line"><span class="comment">// &#125;</span></span><br><span class="line"></span><br><span class="line">int <span class="function"><span class="title">main</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    cin &gt;&gt; n &gt;&gt; p;</span><br><span class="line">    vector&lt;int&gt; v(n);<span class="comment">//有n个元素的vector容器</span></span><br><span class="line">    <span class="keyword">for</span>(int i = <span class="number">0</span>; i &lt; n; i++)&#123;</span><br><span class="line">        cin &gt;&gt; v[i];</span><br><span class="line">        &#125;</span><br><span class="line">    <span class="comment">//先排序</span></span><br><span class="line">    <span class="comment">/*</span></span><br><span class="line"><span class="comment">    !也可以这样输入</span></span><br><span class="line"><span class="comment">    vector&lt;int&gt; v;</span></span><br><span class="line"><span class="comment">	for (int i = 0; i &lt; n; i++)</span></span><br><span class="line"><span class="comment">	&#123;</span></span><br><span class="line"><span class="comment">		int c;</span></span><br><span class="line"><span class="comment">		cin &gt;&gt; c;</span></span><br><span class="line"><span class="comment">		v.push_back(c);</span></span><br><span class="line"><span class="comment">		&#125;</span></span><br><span class="line"><span class="comment">    */</span></span><br><span class="line">    sort(v.begin(),v.end());<span class="comment">//从小到大</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span>(int i = <span class="number">0</span>; i &lt; n; i++)&#123;</span><br><span class="line">        <span class="comment">//int minn = s[i];//将此数当作最小数</span></span><br><span class="line">        </span><br><span class="line">        <span class="keyword">for</span>(int j = i + maxx; j &lt; n; j++)&#123;<span class="comment">//小于暂时的maxx</span></span><br><span class="line">            <span class="keyword">if</span>(v[j] &lt;= v[i] * p)&#123;</span><br><span class="line">                res = j - i + <span class="number">1</span>;<span class="comment">//ji之间的元素</span></span><br><span class="line">                <span class="keyword">if</span>(res &gt; maxx)</span><br><span class="line">                    maxx = res;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">else</span></span><br><span class="line">                <span class="keyword">break</span>;<span class="comment">//v[j]变得更大了，不可能满足v[j] &lt;= v[i] * p</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    printf(<span class="string">&quot;%d\n&quot;</span>,maxx);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></div></figure>
<p>这就过了。回过头看数组，一样的思路，只是用数组存数据。</p>
<figure class="highlight js"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//foreverking</span></span><br><span class="line"><span class="comment">// 给定一个正整数数列，和正整数 p，设这个数列中的最大值是 M，最小值是 m，如果 M≤mp，则称这个数列是完美数列。</span></span><br><span class="line">#include &lt;vector&gt;</span><br><span class="line">#include &lt;cstdio&gt;</span><br><span class="line">#include &lt;queue&gt;</span><br><span class="line">#include &lt;algorithm&gt;</span><br><span class="line">#include &lt;cstring&gt;</span><br><span class="line">#include &lt;iostream&gt;</span><br><span class="line">#include &lt;cmath&gt;</span><br><span class="line">using namespace std;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> int N = <span class="number">1e5</span>;</span><br><span class="line"></span><br><span class="line">int n;</span><br><span class="line">long long p;</span><br><span class="line">int s[N];</span><br><span class="line">int res,maxx;</span><br><span class="line"></span><br><span class="line">int <span class="function"><span class="title">main</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    scanf(<span class="string">&quot;%d%lld&quot;</span>, &amp;n, &amp;p);</span><br><span class="line">    <span class="comment">//cin &gt;&gt; n &gt;&gt; p;</span></span><br><span class="line">    <span class="keyword">for</span>(int i = <span class="number">0</span>; i &lt; n; i++)&#123;</span><br><span class="line">        <span class="comment">//代码</span></span><br><span class="line">        cin &gt;&gt; s[i];</span><br><span class="line">        &#125;</span><br><span class="line">    <span class="comment">//先排序</span></span><br><span class="line">    sort(s,s + n);<span class="comment">//从小到大</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span>(int i = <span class="number">0</span>; i &lt; n; i++)&#123;</span><br><span class="line">        <span class="comment">//int minn = s[i];//将此数当作最小数</span></span><br><span class="line">        </span><br><span class="line">        <span class="keyword">for</span>(int j = i + maxx; j &lt; n; j++)&#123;</span><br><span class="line">            <span class="keyword">if</span>(s[j] &lt;= s[i] * p)&#123;</span><br><span class="line">                res = j - i + <span class="number">1</span>;<span class="comment">//ji之间的元素</span></span><br><span class="line">                <span class="keyword">if</span>(res &gt; maxx)</span><br><span class="line">                    maxx = res;</span><br><span class="line">            &#125;</span><br><span class="line">                <span class="keyword">else</span></span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                    </span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    printf(<span class="string">&quot;%d\n&quot;</span>,maxx);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></div></figure>
<p><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://pintia.cn/problem-sets/994805260223102976/problems/994805291311284224" >题目链接</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span></p>
</div></div></article><article class="postlist-item post"><header class="post-header"><h1 class="post-title"><a class="post-title__link" href="/2021/05/11/PAT%E4%B9%99%E7%BA%A71029/">PAT乙级1029</a></h1><div class="post-meta"><span class="post-meta-item post-meta-item--createtime"><span class="post-meta-item__icon"><i class="far fa-calendar-plus"></i></span><span class="post-meta-item__info">发表于</span><span class="post-meta-item__value">2021-05-11</span></span><span class="post-meta-item post-meta-item--updatetime"><span class="post-meta-item__icon"><i class="far fa-calendar-check"></i></span><span class="post-meta-item__info">更新于</span><span class="post-meta-item__value">2021-05-11</span></span></div></header><div class="post-body"><div class="post-excerpt"><p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/b432678f9fe04d25bb3f946dafc8dc05~tplv-k3u1fbpfcp-watermark.image" alt="image.png"><br>这道题目的就是在于判断字符串1中的每个字母是否在字符串2中出现。如果没有出现，就说明那个按键损坏了。我认为简单的就是使用string的内置find函数。</p>
<blockquote>
<p>string中find()返回值是字母在母串中的位置（下标记录），如果没有找到，那么会返回一个特别的标记npos。（返回值可以看成是一个int型的数）</p>
</blockquote>
<p>当然你不想使用别人写好的，你可以用一个字符数组分别存字符串1出现的26个字母加数字，然后遍历字符串2找到有没有出现，这就很麻烦啊，我就老老实实使用find好了。</p>
<p>然后是要求字母输入大写，直接全部先换成大写再找，也可以找到了在输出时再换成大写。<br>推荐函数toupper(c)。</p>
<blockquote>
<p>若参数c为小写字母则将该对应的大写字母返回,不须转换则将参数c值返回</p>
</blockquote>
<figure class="highlight js"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//foreverking</span></span><br><span class="line"><span class="comment">//其中英文字母只输出大写，每个坏键只输出一次。题目保证至少有 1 个坏键</span></span><br><span class="line">#include &lt;vector&gt;</span><br><span class="line">#include &lt;cstdio&gt;</span><br><span class="line">#include &lt;queue&gt;</span><br><span class="line">#include &lt;algorithm&gt;</span><br><span class="line">#include &lt;cstring&gt;</span><br><span class="line">#include &lt;iostream&gt;</span><br><span class="line">#include &lt;cmath&gt;</span><br><span class="line">using namespace std;</span><br><span class="line"></span><br><span class="line">string s1,s2,res;</span><br><span class="line"></span><br><span class="line">int <span class="function"><span class="title">main</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    cin &gt;&gt; s1 &gt;&gt; s2;</span><br><span class="line">    <span class="comment">//因为他值输出大写，那么小写提前转化为大写</span></span><br><span class="line">    <span class="keyword">for</span>(int i = <span class="number">0</span>; i &lt;= s2.size(); i++)&#123;</span><br><span class="line">        <span class="comment">//代码</span></span><br><span class="line">        <span class="keyword">if</span>(s2[i] &gt;= <span class="string">&#x27;a&#x27;</span> &amp;&amp; s2[i] &lt;= <span class="string">&#x27;z&#x27;</span>)</span><br><span class="line">            s2[i] += <span class="string">&#x27;A&#x27;</span> - <span class="string">&#x27;a&#x27;</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">for</span>(int i = <span class="number">0</span>; i &lt;= s1.size(); i++)&#123;</span><br><span class="line">        <span class="comment">//代码</span></span><br><span class="line">        <span class="keyword">if</span>(s1[i] &gt;= <span class="string">&#x27;a&#x27;</span> &amp;&amp; s1[i] &lt;= <span class="string">&#x27;z&#x27;</span>)</span><br><span class="line">            s1[i] += <span class="string">&#x27;A&#x27;</span> - <span class="string">&#x27;a&#x27;</span>;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span>(s2.find(s1[i]) == s2.npos &amp;&amp; res.find(s1[i]) == res.npos)</span><br><span class="line">            res = res + s1[i];</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        cout &lt;&lt; res &lt;&lt; endl;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br></pre></td></tr></table></div></figure>
<p><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://pintia.cn/problem-sets/994805260223102976/problems/994805292322111488" >题目链接</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span></p>
</div></div></article><article class="postlist-item post"><header class="post-header"><h1 class="post-title"><a class="post-title__link" href="/2021/05/10/%E5%8D%95%E9%93%BE%E8%A1%A8/">单链表</a></h1><div class="post-meta"><span class="post-meta-item post-meta-item--createtime"><span class="post-meta-item__icon"><i class="far fa-calendar-plus"></i></span><span class="post-meta-item__info">发表于</span><span class="post-meta-item__value">2021-05-10</span></span><span class="post-meta-item post-meta-item--updatetime"><span class="post-meta-item__icon"><i class="far fa-calendar-check"></i></span><span class="post-meta-item__info">更新于</span><span class="post-meta-item__value">2021-11-07</span></span></div></header><div class="post-body"><div class="post-excerpt"><h3 id="链式储存结构"   >
          <a href="#链式储存结构" class="heading-link"><i class="fas fa-link"></i></a><a href="#链式储存结构" class="headerlink" title="链式储存结构"></a>链式储存结构</h3>
      <p>结点在存储器中的位置时任意的，即逻辑上相邻的数据元素在物理上不一定相邻，所以链式又被称为<strong>非顺序映像</strong>或<strong>链式映像</strong>。</p>
<p>用一组物理位置任意的存储单元来存放线性表的数据元素。这组存储单元可以时连续的，也可以时不连续的，甚至时零散分布在内存的任意位置上。即链表中元素的逻辑次序和物理次序不一定相同。</p>
<blockquote>
<p>单链表由头指针唯一确定，因此单链表可以用头指针的名字命名</p>
</blockquote>
<ol>
<li>结点：数据元素的储存映像。由数据域和指针域两部分组成。</li>
<li>n个结点由<strong>指针链</strong>组成一个链表。
        <h3 id="线性表的链式表现"   >
          <a href="#线性表的链式表现" class="heading-link"><i class="fas fa-link"></i></a><a href="#线性表的链式表现" class="headerlink" title="线性表的链式表现"></a>线性表的链式表现</h3>
      </li>
</ol>
<ul>
<li>结点只有一个指针域的链表，称为但来年表或线性来年表（就是本文的主角<blockquote>
<p>结点由两个指针域的链表，称为双链表；首位相接的链表称为循环链表。以后再说。</p>
</blockquote>
</li>
</ul>
<p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/e90ba34559b8417988a5a3160c5548fc~tplv-k3u1fbpfcp-watermark.image" alt="image.png"><br>头指针： 是指向链表中第一个结点的指针<br>首元结点: 是指链表中存储第一个数据元素a1的结点<br>头节点： 是在来年表的首元结点之前附设的一个结点（头结点可以储存链表长度或其他信息，方便链表操作。也可以没有头结点）</p>

        <h4 id="头结点"   >
          <a href="#头结点" class="heading-link"><i class="fas fa-link"></i></a><a href="#头结点" class="headerlink" title="头结点"></a>头结点</h4>
      <p>关于头结点，我们来看看头结点的好处：</p>
<ol>
<li><p>便于首元结点的处理</p></div><div class="post-readmore"><a class="post-readmore__link" href="/2021/05/10/%E5%8D%95%E9%93%BE%E8%A1%A8/"><span class="post-readmore__text">阅读全文</span><span class="post-readmore__icon"><i class="fas fa-long-arrow-alt-right"></i></span></a></div></div></article><article class="postlist-item post"><header class="post-header"><h1 class="post-title"><a class="post-title__link" href="/2021/05/10/pat%E4%B9%99%E7%BA%A71028/">pat乙级1028</a></h1><div class="post-meta"><span class="post-meta-item post-meta-item--createtime"><span class="post-meta-item__icon"><i class="far fa-calendar-plus"></i></span><span class="post-meta-item__info">发表于</span><span class="post-meta-item__value">2021-05-10</span></span><span class="post-meta-item post-meta-item--updatetime"><span class="post-meta-item__icon"><i class="far fa-calendar-check"></i></span><span class="post-meta-item__info">更新于</span><span class="post-meta-item__value">2021-05-10</span></span></div></header><div class="post-body"><div class="post-excerpt"><p><img src="https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/43c6c4cdf9354f6d8dd6fd076e0a34e3~tplv-k3u1fbpfcp-watermark.image" alt="image.png"><br>用一个结构体数组去存数据。让人开心的是他输入的数据全部的一个格式的，也就是说可以直接使用<code>&lt;&gt;=</code>来比较日期四位大小，是否合法。你或许会想到使用一些函数，比如compare()，但是直接使用<code>&lt;&gt;=</code>其实他是按照字典序大小来比较的。</p>
<figure class="highlight js"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//foreverking</span></span><br><span class="line">#include &lt;vector&gt;</span><br><span class="line">#include &lt;cstdio&gt;</span><br><span class="line">#include &lt;queue&gt;</span><br><span class="line">#include &lt;algorithm&gt;</span><br><span class="line">#include &lt;cstring&gt;</span><br><span class="line">#include &lt;iostream&gt;</span><br><span class="line">#include &lt;cmath&gt;</span><br><span class="line">using namespace std;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> int N = <span class="number">1E5</span>;</span><br><span class="line"></span><br><span class="line">struct person</span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment">/* data */</span></span><br><span class="line">    string name;</span><br><span class="line">    string date; <span class="comment">//生日</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">string maxname, minname;</span><br><span class="line">string maxbirth = <span class="string">&quot;1814/09/06&quot;</span>, minbirth = <span class="string">&quot;2014/09/06&quot;</span>;</span><br><span class="line">int cnt;</span><br><span class="line"></span><br><span class="line">int main()</span><br><span class="line">&#123;</span><br><span class="line">    int n;</span><br><span class="line">    cin &gt;&gt; n;</span><br><span class="line">    person s[n];</span><br><span class="line">    <span class="keyword">for</span> (int i = <span class="number">0</span>; i &lt; n; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="comment">// person l;</span></span><br><span class="line">        <span class="comment">// cin &gt;&gt; l.name &gt;&gt; l.date;</span></span><br><span class="line">        <span class="comment">// s[i] = l;</span></span><br><span class="line">        <span class="comment">//代码</span></span><br><span class="line">        cin &gt;&gt; s[i].name &gt;&gt; s[i].date;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">for</span> (int i = <span class="number">0</span>; i &lt; n; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="comment">/* code */</span></span><br><span class="line">        <span class="keyword">if</span> (s[i].date &gt;= <span class="string">&quot;1814/09/06&quot;</span> &amp;&amp; s[i].date &lt;= <span class="string">&quot;2014/09/06&quot;</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            cnt++;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">if</span> (s[i].date &gt;= maxbirth)</span><br><span class="line">            &#123;</span><br><span class="line">                maxbirth = s[i].date;</span><br><span class="line">                maxname = s[i].name;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span> (s[i].date &lt;= minbirth)</span><br><span class="line">            &#123;</span><br><span class="line">                minbirth = s[i].date;</span><br><span class="line">                minname = s[i].name;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    cout &lt;&lt; cnt;</span><br><span class="line">    <span class="keyword">if</span> (cnt != <span class="number">0</span>)</span><br><span class="line">        cout &lt;&lt; <span class="string">&quot; &quot;</span> &lt;&lt; minname &lt;&lt; <span class="string">&quot; &quot;</span> &lt;&lt; maxname;</span><br><span class="line">    cout &lt;&lt; endl;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></div></figure>
<p>当然你也可以不用结构体，直接用两个字符串name,date来存数据，每次覆盖掉就行。</p>
<figure class="highlight js"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line">#include &lt;iostream&gt;</span><br><span class="line">using namespace std;</span><br><span class="line">int main()</span><br><span class="line">&#123;</span><br><span class="line">    int n, cnt = <span class="number">0</span>;</span><br><span class="line">    cin &gt;&gt; n;</span><br><span class="line">    string name, date, maxname, minname, maxbirth = <span class="string">&quot;1814/09/06&quot;</span>, minbirth = <span class="string">&quot;2014/09/06&quot;</span>;</span><br><span class="line">    <span class="keyword">for</span> (int i = <span class="number">0</span>; i &lt; n; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        cin &gt;&gt; name &gt;&gt; date;</span><br><span class="line">        <span class="keyword">if</span> (date &gt;= <span class="string">&quot;1814/09/06&quot;</span> &amp;&amp; birth &lt;= <span class="string">&quot;2014/09/06&quot;</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            cnt++;</span><br><span class="line">            <span class="keyword">if</span> (date &gt;= maxbirth)</span><br><span class="line">            &#123;</span><br><span class="line">                maxbirth = date<span class="string">`;</span></span><br><span class="line"><span class="string">                maxname = name;</span></span><br><span class="line"><span class="string">            &#125;</span></span><br><span class="line"><span class="string">            if (date &lt;= minbirth)</span></span><br><span class="line"><span class="string">            &#123;</span></span><br><span class="line"><span class="string">                minbirth = date;</span></span><br><span class="line"><span class="string">                minname = name;</span></span><br><span class="line"><span class="string">            &#125;</span></span><br><span class="line"><span class="string">        &#125;</span></span><br><span class="line"><span class="string">    &#125;</span></span><br><span class="line"><span class="string">    cout &lt;&lt; cnt;</span></span><br><span class="line"><span class="string">    if (cnt != 0)</span></span><br><span class="line"><span class="string">        cout &lt;&lt; &quot; &quot; &lt;&lt; minname &lt;&lt; &quot; &quot; &lt;&lt; maxname;</span></span><br><span class="line"><span class="string">    return 0;</span></span><br><span class="line"><span class="string">&#125;</span></span><br></pre></td></tr></table></div></figure>
<p>除此之外，你甚至可以用int来存数据，就是过程比较麻烦而已。<br><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://pintia.cn/problem-sets/994805260223102976/problems/994805293282607104" >题目链接</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span></p>
</div></div></article><article class="postlist-item post"><header class="post-header"><h1 class="post-title"><a class="post-title__link" href="/2021/05/09/PAT%E4%B9%99%E7%BA%A71027/">PAT乙级1027</a></h1><div class="post-meta"><span class="post-meta-item post-meta-item--createtime"><span class="post-meta-item__icon"><i class="far fa-calendar-plus"></i></span><span class="post-meta-item__info">发表于</span><span class="post-meta-item__value">2021-05-09</span></span><span class="post-meta-item post-meta-item--updatetime"><span class="post-meta-item__icon"><i class="far fa-calendar-check"></i></span><span class="post-meta-item__info">更新于</span><span class="post-meta-item__value">2021-05-09</span></span></div></header><div class="post-body"><div class="post-excerpt"><p><img src="https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/5891b5de17bf4a1094d485f2ab594b36~tplv-k3u1fbpfcp-watermark.image" alt="image.png"><br>画图找规律的题目，找到行数，空格与字符的规律。</p>
<p>以中间的行为基准，向两边散发行，每一行都是奇数个字符。以中间行为第0行，因为两边是对称的，值计算一边再乘以2就行。散发开来每行是3，5，7~~~ 。设有x行，那么可以得出第i行是（2i+1）[3,5,7,9,~,2i+1]。根据求和公式，仅上中间行0行上面的字符数是： $(3 + 2i + 1) * i / 2 = i * (i + 2)$。而总的字符数为$2 * i * (i + 2) + 1$。所以当所需字符数大于n（可使用的字符数）时，说明最多行了。</p>
<p>而输入规则，先输入0行上面的，再输入0行本身，最后时0行下面的，而每一行先要输入一定的空格，空格数就是单侧行数 - 输入到第几行。0行前就输入单侧行数个数的空格。注意两侧时对称的哦。</p>
<figure class="highlight js"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//foreverking</span></span><br><span class="line">#include &lt;vector&gt;</span><br><span class="line">#include &lt;cstdio&gt;</span><br><span class="line">#include &lt;queue&gt;</span><br><span class="line">#include &lt;algorithm&gt;</span><br><span class="line">#include &lt;cstring&gt;</span><br><span class="line">#include &lt;iostream&gt;</span><br><span class="line">#include &lt;cmath&gt;</span><br><span class="line">using namespace std;</span><br><span class="line"><span class="comment">//谓“沙漏形状”，是指每行输出奇数个符号；各行符号中心对齐；相邻两行符号数差2；符号数先从大到小顺序递减到1，再从小到大顺序递增；首尾符号数相等</span></span><br><span class="line">int <span class="function"><span class="title">main</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    int n,cnt = <span class="number">0</span>;</span><br><span class="line">    char ch;</span><br><span class="line">    cin &gt;&gt; n &gt;&gt; ch;</span><br><span class="line">    <span class="keyword">for</span>(int i = <span class="number">0</span>; i &lt; n; i++)&#123;</span><br><span class="line">        <span class="keyword">if</span>((<span class="number">2</span> * i * (i + <span class="number">2</span>) + <span class="number">1</span>) &gt; n)&#123;</span><br><span class="line">            cnt = i - <span class="number">1</span>;<span class="comment">//这时候层数应该是i-1</span></span><br><span class="line">            <span class="keyword">break</span>;<span class="comment">//跳出循环</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// cout &lt;&lt; cnt;</span></span><br><span class="line">    <span class="keyword">for</span>(int i = cnt ; i &gt; <span class="number">0</span>; i--)&#123;<span class="comment">//上面的行</span></span><br><span class="line">        <span class="keyword">for</span>(int j = cnt - i; j &gt; <span class="number">0</span>; j--) cout &lt;&lt; <span class="string">&#x27; &#x27;</span>;<span class="comment">//输入空格</span></span><br><span class="line">        <span class="keyword">for</span>(int k = <span class="number">0</span>; k &lt; i * <span class="number">2</span> + <span class="number">1</span>; k++) cout &lt;&lt; ch;</span><br><span class="line">        cout &lt;&lt; endl;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//输入中间的一行，只有一个字符</span></span><br><span class="line">    <span class="keyword">for</span>(int i = <span class="number">0</span> ; i &lt; cnt; i++) cout &lt;&lt; <span class="string">&#x27; &#x27;</span>;</span><br><span class="line">    cout &lt;&lt; ch &lt;&lt; endl;</span><br><span class="line">    <span class="comment">//输入下main的行</span></span><br><span class="line">    <span class="keyword">for</span>(int i = <span class="number">1</span> ; i &lt;= cnt; i++)&#123;<span class="comment">//下面的行</span></span><br><span class="line">        <span class="keyword">for</span>(int j = cnt - i; j &gt; <span class="number">0</span>; j--) cout &lt;&lt; <span class="string">&#x27; &#x27;</span>;<span class="comment">//输入空格</span></span><br><span class="line">        <span class="keyword">for</span>(int k = <span class="number">0</span>; k &lt; i * <span class="number">2</span> + <span class="number">1</span>; k++) cout &lt;&lt; ch;</span><br><span class="line">        cout &lt;&lt; endl;</span><br><span class="line">    &#125;</span><br><span class="line">    cout &lt;&lt; n - (<span class="number">2</span> * cnt * (cnt + <span class="number">2</span>) + <span class="number">1</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></div></figure>
<p><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://pintia.cn/problem-sets/994805260223102976/problems/994805294251491328" >题目链接</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span></p>
</div></div></article><article class="postlist-item post"><header class="post-header"><h1 class="post-title"><a class="post-title__link" href="/2021/05/09/PAT%E4%B9%99%E7%BA%A71026/">PAT乙级1026</a></h1><div class="post-meta"><span class="post-meta-item post-meta-item--createtime"><span class="post-meta-item__icon"><i class="far fa-calendar-plus"></i></span><span class="post-meta-item__info">发表于</span><span class="post-meta-item__value">2021-05-09</span></span><span class="post-meta-item post-meta-item--updatetime"><span class="post-meta-item__icon"><i class="far fa-calendar-check"></i></span><span class="post-meta-item__info">更新于</span><span class="post-meta-item__value">2021-05-09</span></span></div></header><div class="post-body"><div class="post-excerpt"><p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/8bdff5a5bf9243759492cd58e95751a2~tplv-k3u1fbpfcp-watermark.image" alt="image.png"><br>这是一道比较水的题目，唯一的问题是数据的处理。</p>
<blockquote>
<p>格式输出；不足 1 秒的时间四舍五入到秒。</p>
</blockquote>
<p>那就涉及到一点精度的问题，用double存一些数据来保持精度。</p>
<figure class="highlight js"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//foreverking</span></span><br><span class="line">#include &lt;vector&gt;</span><br><span class="line">#include &lt;cstdio&gt;</span><br><span class="line">#include &lt;queue&gt;</span><br><span class="line">#include &lt;algorithm&gt;</span><br><span class="line">#include &lt;cstring&gt;</span><br><span class="line">#include &lt;iostream&gt;</span><br><span class="line">#include &lt;cmath&gt;</span><br><span class="line">using namespace std;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> int CLK_TCK = <span class="number">100</span>;</span><br><span class="line"></span><br><span class="line">double c1,c2;</span><br><span class="line"><span class="comment">//在一行中输出被测函数运行的时间。运行时间必须按照 hh:mm:ss（即2位的 时:分:秒）格式输出；不足 1 秒的时间四舍五入到秒。</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//检查是否需要输出0</span></span><br><span class="line"><span class="keyword">void</span> <span class="function"><span class="title">check</span>(<span class="params">int x</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(x &lt; <span class="number">10</span>)</span><br><span class="line">        cout &lt;&lt; <span class="string">&#x27;0&#x27;</span>;<span class="comment">//小于10请补齐</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">int <span class="function"><span class="title">main</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    int hour,mi,sc;</span><br><span class="line">    cin &gt;&gt; c1 &gt;&gt; c2;</span><br><span class="line">    double res = (c2 - c1) / CLK_TCK;</span><br><span class="line">    hour = res / <span class="number">3600</span>;</span><br><span class="line">    mi = (res - <span class="number">3600</span> * hour) / <span class="number">60</span>;</span><br><span class="line">    sc = (res - <span class="number">3600</span> * hour - <span class="number">60</span> * mi) + <span class="number">0.5</span>;</span><br><span class="line">    check(hour);</span><br><span class="line">    cout &lt;&lt; hour &lt;&lt; <span class="string">&#x27;:&#x27;</span>;</span><br><span class="line">    check(mi);</span><br><span class="line">    cout &lt;&lt; mi &lt;&lt; <span class="string">&#x27;:&#x27;</span>;</span><br><span class="line">    check(sc);</span><br><span class="line">    cout &lt;&lt; sc &lt;&lt; endl;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></div></figure>
<p>这里有个小技巧<code>四舍五入的小技巧 int (a+0.5)</code>。当然你也可以在一开始的时候，<code>（c1 - c2 + 50） / CLK_TCK </code>效果是一样的，都是为了让不足一秒的当做一秒。你也可以试试向上取整的ceil函数~</p>
<p><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://pintia.cn/problem-sets/994805260223102976/problems/994805295203598336" >题目链接</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span></p>
</div></div></article><article class="postlist-item post"><header class="post-header"><h1 class="post-title"><a class="post-title__link" href="/2021/05/08/PAT%E4%B9%99%E7%BA%A71025/">PAT乙级1025</a></h1><div class="post-meta"><span class="post-meta-item post-meta-item--createtime"><span class="post-meta-item__icon"><i class="far fa-calendar-plus"></i></span><span class="post-meta-item__info">发表于</span><span class="post-meta-item__value">2021-05-08</span></span><span class="post-meta-item post-meta-item--updatetime"><span class="post-meta-item__icon"><i class="far fa-calendar-check"></i></span><span class="post-meta-item__info">更新于</span><span class="post-meta-item__value">2021-05-08</span></span></div></header><div class="post-body"><div class="post-excerpt">
        <h4 id="题目"   >
          <a href="#题目" class="heading-link"><i class="fas fa-link"></i></a><a href="#题目" class="headerlink" title="题目"></a>题目</h4>
      <p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/6e0db6478ee74544b821806054a7a243~tplv-k3u1fbpfcp-watermark.image" alt="image.png"></p>
<p>是不是乍一看就是一个顺序表，其实也差不多，就运用顺序表。先定义一个结构体，就叫List，里面存放Address 是结点地址，Data 是该结点保存的整数数据，Next 是下一结点的地址。再输入每个结点的数据，再把顺序存入vector数组中。最后就可以每k个数就反转一次，末尾如果没有凑够k个数字，就不用反转。</p>

        <h4 id="代码"   >
          <a href="#代码" class="heading-link"><i class="fas fa-link"></i></a><a href="#代码" class="headerlink" title="代码"></a>代码</h4>
      <p>如下:</p>
<figure class="highlight js"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//foreverking</span></span><br><span class="line">#include &lt;cstdio&gt;</span><br><span class="line">#include &lt;queue&gt;</span><br><span class="line">#include &lt;algorithm&gt;</span><br><span class="line">#include &lt;cstring&gt;</span><br><span class="line">#include &lt;iostream&gt;</span><br><span class="line">#include &lt;cmath&gt;</span><br><span class="line">using namespace std;</span><br><span class="line"></span><br><span class="line">typedef struct node&#123;</span><br><span class="line">    int address;<span class="comment">//地址（下标）</span></span><br><span class="line">    int data;<span class="comment">//数据</span></span><br><span class="line">    int next;<span class="comment">//下一个元素的地址</span></span><br><span class="line">&#125;List;</span><br><span class="line"></span><br><span class="line">int first,n, k;<span class="comment">//first:首节点 n:总节点数 k：反转数</span></span><br><span class="line">int <span class="function"><span class="title">main</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    vector&lt;List&gt; v;</span><br><span class="line">    List s[<span class="number">100000</span>];</span><br><span class="line">    cin &gt;&gt; first &gt;&gt; n &gt;&gt; k;</span><br><span class="line">    <span class="keyword">for</span> (int i = <span class="number">0</span>; i &lt; n; i++) &#123;</span><br><span class="line">        <span class="comment">//cin &gt;&gt; s[i].address &gt;&gt; s[i].data &gt;&gt; s[i].next;</span></span><br><span class="line">        List l;</span><br><span class="line">        cin &gt;&gt; l.address &gt;&gt; l.data &gt;&gt; l.next;</span><br><span class="line">        s[l.address] = l;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//NULL 地址用 -1 表示</span></span><br><span class="line">    int nextaddress = first;</span><br><span class="line">    <span class="keyword">while</span>(nextaddress != -<span class="number">1</span>)&#123;<span class="comment">//链表存入vector</span></span><br><span class="line">        v.push_back(s[nextaddress]);</span><br><span class="line">        nextaddress = s[nextaddress].next;<span class="comment">//指针后移</span></span><br><span class="line">    &#125;</span><br><span class="line">    vector&lt;List&gt;::iterator it = v.begin();<span class="comment">//迭代器</span></span><br><span class="line">    <span class="keyword">for</span>(int i = <span class="number">0</span>; i &lt; v.size() / k; i++)&#123;<span class="comment">//可以凑够几次的反转，最后不到k的不反转</span></span><br><span class="line">        reverse(it,it + k);<span class="comment">//反转</span></span><br><span class="line">        it = it + k;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span>(int i = <span class="number">0</span>; i &lt; v.size() - <span class="number">1</span>; i++)&#123;<span class="comment">//输出</span></span><br><span class="line">        printf(<span class="string">&quot;%05d %d %05d\n&quot;</span>, v[i].address, v[i].data, v[i + <span class="number">1</span>].address);</span><br><span class="line">    &#125;</span><br><span class="line">    printf(<span class="string">&quot;%05d %d -1\n&quot;</span>, v[v.size()-<span class="number">1</span>].address, v[v.size()-<span class="number">1</span>].data); <span class="comment">//打印最后一个节点</span></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">00100 6 4</span></span><br><span class="line"><span class="comment">00000 4 99999</span></span><br><span class="line"><span class="comment">00100 1 12309</span></span><br><span class="line"><span class="comment">68237 6 -1</span></span><br><span class="line"><span class="comment">33218 3 00000</span></span><br><span class="line"><span class="comment">99999 5 68237</span></span><br><span class="line"><span class="comment">12309 2 33218</span></span><br><span class="line"><span class="comment"> */</span></span><br></pre></td></tr></table></div></figure>

        <h4 id="代码细节"   >
          <a href="#代码细节" class="heading-link"><i class="fas fa-link"></i></a><a href="#代码细节" class="headerlink" title="代码细节"></a>代码细节</h4>
      <p>首先是输入时，不能这样输入<code>cin &gt;&gt; s[i].address &gt;&gt; s[i].data &gt;&gt; s[i].next;</code>。这样会超时，但是具体原因我也不是很清楚。第二是迭代器的使用，通过迭代器可以读取它指向的元素，*迭代器名就表示迭代器指向的元素，迭代器就像指针，指向的是地址 <code>vector&lt;int&gt;::iterator it;  //定义正向迭代器</code>.最后是用上好的反转函数reverse可以用。</p>

        <h4 id="其他方法"   >
          <a href="#其他方法" class="heading-link"><i class="fas fa-link"></i></a><a href="#其他方法" class="headerlink" title="其他方法"></a>其他方法</h4>
      <figure class="highlight js"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">#include &lt;iostream&gt;</span><br><span class="line">#include &lt;algorithm&gt;</span><br><span class="line">using namespace std;</span><br><span class="line">int main()</span><br><span class="line">&#123;</span><br><span class="line">    int first, k, n, temp;</span><br><span class="line">    cin &gt;&gt; first &gt;&gt; n &gt;&gt; k;</span><br><span class="line">    int data[<span class="number">100005</span>], next[<span class="number">100005</span>], list[<span class="number">100005</span>];</span><br><span class="line">    <span class="keyword">for</span> (int i = <span class="number">0</span>; i &lt; n; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        cin &gt;&gt; temp;</span><br><span class="line">        cin &gt;&gt; data[temp] &gt;&gt; next[temp];</span><br><span class="line">    &#125;</span><br><span class="line">    int sum = <span class="number">0</span>; <span class="comment">//不一定所有的输入的结点都是有用的，加个计数器</span></span><br><span class="line">    <span class="keyword">while</span> (first != -<span class="number">1</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        list[sum++] = first;</span><br><span class="line">        first = next[first];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span> (int i = <span class="number">0</span>; i &lt; (sum - sum % k); i += k)</span><br><span class="line">        reverse(begin(list) + i, begin(list) + i + k);</span><br><span class="line">    <span class="keyword">for</span> (int i = <span class="number">0</span>; i &lt; sum - <span class="number">1</span>; i++)</span><br><span class="line">        printf(<span class="string">&quot;%05d %d %05d\n&quot;</span>, list[i], data[list[i]], list[i + <span class="number">1</span>]);</span><br><span class="line">    printf(<span class="string">&quot;%05d %d -1&quot;</span>, list[sum - <span class="number">1</span>], data[list[sum - <span class="number">1</span>]]);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></div></figure>
<p>柳婼的简短代码，没有使用结构体，使用两个数组分别存数据，下一个地址。再将表结点的各地址存入List数组。最后反转输出</p>
<p><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://pintia.cn/problem-sets/994805260223102976/problems/994805296180871168" >题目链接</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span></p>
</div></div></article></section><nav class="paginator"><div class="paginator-inner"><a class="extend prev" rel="prev" href="/page/3/"><i class="fas fa-angle-left"></i></a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/3/">3</a><span class="page-number current">4</span><a class="page-number" href="/page/5/">5</a><a class="page-number" href="/page/6/">6</a><a class="extend next" rel="next" href="/page/5/"><i class="fas fa-angle-right"></i></a></div></nav></div></div><div class="sidebar-wrap" id="sidebar-wrap"><aside class="sidebar" id="sidebar"><section class="sidebar-toc hide"></section><!-- ov = overview--><section class="sidebar-ov"><div class="sidebar-ov-author"><div class="sidebar-ov-author__avatar"><img class="sidebar-ov-author__avatar_img" src="https://ftp.bmp.ovh/imgs/2021/04/97568392c68eaf01.png" alt="avatar"></div><p class="sidebar-ov-author__text">固执己见 一意孤行</p></div><div class="sidebar-ov-social"><a class="sidebar-ov-social-item" href="https://github.com/" target="_blank" rel="noopener" data-popover="Github" data-popover-pos="up"><span class="sidebar-ov-social-item__icon"><i class="fab fa-github"></i></span></a><a class="sidebar-ov-social-item" href="https://www.zhihu.com/" target="_blank" rel="noopener" data-popover="知乎" data-popover-pos="up"><span class="sidebar-ov-social-item__icon">知</span></a><a class="sidebar-ov-social-item" href="tencent://message?nin=2530281837" target="_blank" rel="noopener" data-popover="QQ" data-popover-pos="up"><span class="sidebar-ov-social-item__icon"><i class="fab fa-qq"></i></span></a><a class="sidebar-ov-social-item" href="https://juejin.cn/" target="_blank" rel="noopener" data-popover="掘金" data-popover-pos="up"><span class="sidebar-ov-social-item__icon">掘</span></a></div><div class="sidebar-ov-state"><a class="sidebar-ov-state-item sidebar-ov-state-item--posts" href="/archives/"><div class="sidebar-ov-state-item__count">52</div><div class="sidebar-ov-state-item__name">归档</div></a><a class="sidebar-ov-state-item sidebar-ov-state-item--categories" href="/categories/"><div class="sidebar-ov-state-item__count">11</div><div class="sidebar-ov-state-item__name">分类</div></a><a class="sidebar-ov-state-item sidebar-ov-state-item--tags" href="/tags/"><div class="sidebar-ov-state-item__count">9</div><div class="sidebar-ov-state-item__name">标签</div></a></div><div class="sidebar-ov-cc"><a href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.en" target="_blank" rel="noopener" data-popover="知识共享许可协议" data-popover-pos="up"><img src="/images/cc-by-nc-sa.svg"></a></div></section></aside></div><div class="clearfix"></div></div></main><footer class="footer" id="footer"><div class="footer-inner"><div><span>Copyright © 2021</span><span class="footer__icon"><i class="fas fa-heart"></i></span><span>不闻钟</span></div><div><span>由 <a href="http://hexo.io/" title="Hexo" target="_blank" rel="noopener">Hexo</a> 强力驱动</span><span> v5.4.0</span><span class="footer__devider">|</span><span>主题 - <a href="https://github.com/liuyib/hexo-theme-stun/" title="Stun" target="_blank" rel="noopener">Stun</a></span><span> v2.6.2</span></div><div class="busuanzi"><span class="busuanzi-siteuv"><span class="busuanzi-siteuv__icon"><i class="fas fa-user"></i></span><span class="busuanzi-siteuv__info">访问人数</span><span class="busuanzi-siteuv__value" id="busuanzi_value_site_uv"></span></span><span class="busuanzi-sitepv"><span class="busuanzi-siteuv__icon"><i class="fas fa-eye"></i></span><span class="busuanzi-siteuv__info">浏览总量</span><span class="busuanzi-siteuv__value" id="busuanzi_value_site_pv"></span></span></div></div></footer><div class="loading-bar" id="loading-bar"><div class="loading-bar__progress"></div></div><div class="back2top" id="back2top"><span class="back2top__icon"><i class="fas fa-rocket"></i></span></div></div><div class="search-mask"></div><div class="search-popup"><span class="search-close"></span><div class="search-input"><input placeholder="搜索文章（支持多关键词，请用空格分隔）"></div><div class="search-results"></div></div><script src="https://cdn.jsdelivr.net/npm/jquery@v3.4.1/dist/jquery.min.js"></script><script src="https://cdn.jsdelivr.net/npm/velocity-animate@1.5.2/velocity.min.js"></script><script src="https://cdn.jsdelivr.net/npm/velocity-animate@1.5.2/velocity.ui.min.js"></script><script>function initSearch() {
  var isXML = true;
  var search_path = 'search.xml';

  if (!search_path) {
    search_path = 'search.xml';
  } else if (/json$/i.test(search_path)) {
    isXML = false;
  }

  var path = '/' + search_path;
  $.ajax({
    url: path,
    dataType: isXML ? 'xml' : 'json',
    async: true,
    success: function (res) {
      var datas = isXML ? $('entry', res).map(function () {
        // 将 XML 转为 JSON
        return {
          title: $('title', this).text(),
          content: $('content', this).text(),
          url: $('url', this).text()
        };
      }).get() : res;
      var $input = $('.search-input input');
      var $result = $('.search-results');
      // 搜索对象（标题、内容）的权重，影响显示顺序
      var WEIGHT = { title: 100, content: 1 };
      var searchPost = function () {
        var searchText = $input.val().toLowerCase().trim();
        // 根据空白字符分隔关键字
        var keywords = searchText.split(/[\s]+/);
        // 搜索结果
        var matchPosts = [];

        // 有多个关键字时，将原文字整个保存下来
        if (keywords.length > 1) {
          keywords.push(searchText);
        }
        // 防止未输入字符时搜索
        if (searchText.length > 0) {
          datas.forEach(function (data) {
            var isMatch  = false;
            // 没有标题的文章使用预设的 i18n 变量代替
            var title = (data.title && data.title.trim()) || '[ 文章无标题 ]';
            var titleLower = title && title.toLowerCase();
            // 删除 HTML 标签 和 所有空白字符
            var content = data.content && data.content.replace(/<[^>]+>/g, '');
            var contentLower = content && content.toLowerCase();
            // 删除重复的 /
            var postURL = data.url && decodeURI(data.url).replace(/\/{2,}/g, '/');
            // 标题中匹配到的关键词
            var titleHitSlice = [];
            // 内容中匹配到的关键词
            var contentHitSlice = [];

            keywords.forEach(function (keyword) {
              /**
              * 获取匹配的关键词的索引
              * @param {String} keyword 要匹配的关键字
              * @param {String} text 原文字
              * @param {Boolean} caseSensitive 是否区分大小写
              * @param {Number} weight 匹配对象的权重。权重大的优先显示
              * @return {Array}
              */
              function getIndexByword (word, text, caseSensitive, weight) {
                if (!word || !text) {
                  return [];
                };

                var startIndex = 0; // 每次匹配的开始索引
                var index = -1;     // 匹配到的索引值
                var result = [];    // 匹配结果

                if (!caseSensitive) {
                  word = word.toLowerCase();
                  text = text.toLowerCase();
                }

                while((index = text.indexOf(word, startIndex)) !== -1) {
                  var hasMatch = false;
                  // 索引位置相同的关键词，保留长度较长的
                  titleHitSlice.forEach(function (hit) {
                    if (hit.index === index && hit.word.length < word.length) {
                      hit.word = word;
                      hasMatch = true;
                    }
                  });
                  startIndex = index + word.length;
                  !hasMatch && result.push({ index: index, word: word, weight: weight });
                }
                return result;
              }
              titleHitSlice = titleHitSlice.concat(getIndexByword(keyword, titleLower, false, WEIGHT.title));
              contentHitSlice = contentHitSlice.concat(getIndexByword(keyword, contentLower, false, WEIGHT.content));
            });

            var hitTitle = titleHitSlice.length;
            var hitContent = contentHitSlice.length;

            if (hitTitle > 0 || hitContent > 0) {
              isMatch = true;
            }
            if (isMatch) {
              ;[titleHitSlice, contentHitSlice].forEach(function (hit) {
                // 按照匹配文字的索引的递增顺序排序
                hit.sort(function (left, right) {
                  return left.index - right.index;
                });
              });
              /**
              * 给文本中匹配到的关键词添加标记，从而进行高亮显示
              * @param {String} text 原文本
              * @param {Array} hitSlice 匹配项的索引信息
              * @param {Number} start 开始索引
              * @param {Number} end 结束索引
              * @return {String}
              */
              function highlightKeyword (text, hitSlice, start, end) {
                if (!text || !hitSlice || !hitSlice.length) {
                  return;
                }

                var result = '';
                var startIndex = start;
                var endIndex = end;
                hitSlice.forEach(function (hit) {
                  if (hit.index < startIndex) {
                    return;
                  }

                  var hitWordEnd = hit.index + hit.word.length;
                  result += text.slice(startIndex, hit.index);
                  result += '<b>' + text.slice(hit.index, hitWordEnd) + '</b>';
                  startIndex = hitWordEnd;
                });
                result += text.slice(startIndex, endIndex);
                return result;
              }

              var postData = {};
              // 文章总的搜索权重
              var postWeight = titleHitSlice.length * WEIGHT.title + contentHitSlice.length * WEIGHT.content;
              // 标记匹配关键词后的标题
              var postTitle = highlightKeyword(title, titleHitSlice, 0, title.length) || title;
              // 标记匹配关键词后的内容
              var postContent;
              // 显示内容的长度
              var SHOW_WORD_LENGTH = 200;
              // 命中关键词前的字符显示长度
              var SHOW_WORD_FRONT_LENGTH = 20;
              var SHOW_WORD_END_LENGTH = SHOW_WORD_LENGTH - SHOW_WORD_FRONT_LENGTH;

              // 截取匹配的第一个字符，前后共 200 个字符来显示
              if (contentHitSlice.length > 0) {
                var firstIndex = contentHitSlice[0].index;
                var start = firstIndex > SHOW_WORD_FRONT_LENGTH ? firstIndex - SHOW_WORD_FRONT_LENGTH : 0;
                var end = firstIndex + SHOW_WORD_END_LENGTH;
                postContent = highlightKeyword(content, contentHitSlice, start, end);
              } else { // 未匹配到内容，直接截取前 200 个字符来显示
                postContent = content.slice(0, SHOW_WORD_LENGTH);
              }
              postData.title = postTitle;
              postData.content = postContent;
              postData.url = postURL;
              postData.weight = postWeight;
              matchPosts.push(postData);
            }
          });
        }

        var resultInnerHtml = '';
        if (matchPosts.length) {
          // 按权重递增的顺序排序，使权重大的优先显示
          matchPosts.sort(function (left, right) {
            return right.weight - left.weight;
          });
          resultInnerHtml += '<ul>';
          matchPosts.forEach(function (post) {
            resultInnerHtml += '<li><a class="search-results-title" href="' + post.url + '">';
            resultInnerHtml += post.title;
            resultInnerHtml += '</a><div class="search-results-content">';
            resultInnerHtml += post.content;
            resultInnerHtml += '</div></li>';
          });
          resultInnerHtml += '</ul>';
        } else {
          resultInnerHtml += '<div class="search-results-none"><i class="far fa-meh"></i></div>';
        }
        $result.html(resultInnerHtml);
      };
      $input.on('input', searchPost);
      $input.on('keyup', function (e) {
        if (e.keyCode === Stun.utils.codeToKeyCode('Enter')) {
          searchPost();
        }
      });
    }
  });
}

function closeSearch () {
  $('body').css({ overflow: 'auto' });
  $('.search-popup').css({ display: 'none' });
  $('.search-mask').css({ display: 'none' });
}

window.addEventListener('DOMContentLoaded', function () {
  Stun.utils.pjaxReloadLocalSearch = function () {
    $('.header-nav-search').on('click', function (e) {
      e.stopPropagation();
      $('body').css('overflow', 'hidden');
      $('.search-popup')
        .velocity('stop')
        .velocity('transition.expandIn', {
          duration: 300,
          complete: function () {
            $('.search-popup input').focus();
          }
        });
      $('.search-mask')
        .velocity('stop')
        .velocity('transition.fadeIn', {
          duration: 300
        });

      initSearch();
    });
    $('.search-mask, .search-close').on('click', function () {
      closeSearch();
    });
    $(document).on('keydown', function (e) {
      // Escape <=> 27
      if (e.keyCode === Stun.utils.codeToKeyCode('Escape')) {
        closeSearch();
      }
    });
  };

  Stun.utils.pjaxReloadLocalSearch();
}, false);

function safeOpenUrl(url) {
  var newTab = window.open();
  newTab.opener = null;
  newTab.location = url;
}

function extSearch(engine) {
  var engines = {
    google: 'https://www.google.com/search?q=',
    bing: 'https://cn.bing.com/search?q=',
    baidu: 'https://www.baidu.com/s?ie=UTF-8&wd=',
  };
  var host = window.location.host;
  var query = $('.search-input input').val().toLowerCase().trim();
  var uri = engines[engine] + query + ' site:' + host;

  if (query) {
    safeOpenUrl(uri);
  } else {
    Stun.utils.popAlert('warning', '请输入字符');
  }
}

var assistSearchList = window.CONFIG.assistSearch;

if (Array.isArray(assistSearchList)) {
  assistSearchList.forEach(function (name) {
    document.querySelector('.search-btns-item--' + name).addEventListener('click', function () {
      extSearch(name);
    }, false);
  });
}</script><script src="https://cdn.jsdelivr.net/gh/sukkaw/busuanzi@latest/bsz.pure.mini.js" async></script><script src="/js/utils.js?v=2.6.2"></script><script src="/js/stun-boot.js?v=2.6.2"></script><script src="/js/scroll.js?v=2.6.2"></script><script src="/js/header.js?v=2.6.2"></script><script src="/js/sidebar.js?v=2.6.2"></script><script type="application/json" src="/search.xml"></script></body></html>